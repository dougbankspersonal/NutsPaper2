<html>
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DynaPuff:wght@400..700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/arrow.css" />
    <link rel="stylesheet" href="../css/belt.css" />
    <link rel="stylesheet" href="../SharedWebBoardGame/css/card.css" />
    <link rel="stylesheet" href="../css/nuts_card.css" />
    <link rel="stylesheet" href="../css/conveyor_tile.css" />
    <link rel="stylesheet" href="../css/game_board.css" />
    <link rel="stylesheet" href="../css/image.css" />
    <link rel="stylesheet" href="../SharedWebBoardGame/css/main.css" />
    <link rel="stylesheet" href="../css/marker.css" />
    <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
    <style type="text/css"></style>
  </head>

  <body id="body">
    <!-- configure Dojo -->
    <script>
      // Instead of using data-dojo-config, we're creating a dojoConfig
      // object *before* we load dojo.js; they're functionally identical,
      // it's just easier to read this approach with a larger configuration.
      var dojoConfig = {
        baseUrl: "..",
        async: true,
        // This code registers the correct location of the "demo"
        // package so we can load Dojo from the CDN whilst still
        // being able to load local modules
        packages: [
          { name: "dojo", location: "../../bower_components/dojo" },
          { name: "javascript", location: "javascript" },
        ],
      };
    </script>
    <!-- load Dojo -->
    <script src="../../../bower_components/dojo/dojo.js"></script>

    <script>
      require(["javascript/markers", "javascript/gameUtils"], function (
        markers,
        gameUtils
      ) {
        var markerConfigs = [
          {
            markerType: markers.markerTypes.Almond,
            count: 2,
          },
          {
            markerType: markers.markerTypes.Cashew,
            count: 2,
          },
          {
            markerType: markers.markerTypes.Peanut,
            count: 2,
          },
          {
            markerType: markers.markerTypes.Pistachio,
            count: 2,
          },
          {
            markerType: markers.markerTypes.Salter,
            count: 2,
          },
          {
            markerType: markers.markerTypes.Roaster,
            count: 2,
          },
          {
            markerType: markers.markerTypes.Squirrel,
            count: 1,
          },
          {
            markerType: markers.markerTypes.StartingPlayer,
            text: "Starting Player",
            count: 1,
            color: "#e0e0f0",
          },
        ];

        var numMarkerCards = 0;
        for (var i = 0; i < markerConfigs.length; i++) {
          numMarkerCards += markerConfigs[i].count;
        }

        function addMarkerAtIndex(parent, index) {
          var config;
          for (var i = 0; i < markerConfigs.length; i++) {
            var markerConfig = markerConfigs[i];
            if (index < markerConfig.count) {
              config = markerConfig;
              break;
            }
            index -= markerConfig.count;
          }
          // Should have a config now.
          return markers.addMarker(
            parent,
            markerConfig.markerType,
            null,
            markerConfig
          );
        }

        markers.addMarkers(numMarkerCards, addMarkerAtIndex);
      });
    </script>
  </body>
</html>
