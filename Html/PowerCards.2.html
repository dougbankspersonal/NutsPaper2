<html>

<head>
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/card.css">
	<link href='https://fonts.googleapis.com/css?family=Courier' rel='stylesheet'>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <style type="text/css">
	</style>
</head>

<body id="body">
	<!-- configure Dojo -->
	<script>
		// Instead of using data-dojo-config, we're creating a dojoConfig
		// object *before* we load dojo.js; they're functionally identical,
		// it's just easier to read this approach with a larger configuration.
		var dojoConfig = {
			baseUrl: ".",
			async: true,
			// This code registers the correct location of the "demo"
			// package so we can load Dojo from the CDN whilst still
			// being able to load local modules
			packages: [
				{ name: "dojo", location: "../../bower_components/dojo" },
				{ name: "javascript", location: "javascript" }
			]
		};
	</script>
	<!-- load Dojo -->
	<script src="../../bower_components/dojo/dojo.js"></script>

    <script>
		require([
			'javascript/cards',
			'javascript/gameUtils',
		], function (cards, gameUtils, dojo) {

			var powerCardDescs = [
				{
					title: "Salt Manager",
					power: "Place a Player token on the Salters Row and move a Salter to any open space",
					timing: "Use before you take your normal Action. You may still take your normal Action after this.",
				},
				{
					title: "Head of Roasting",
					power: "Place a Player token on the Roasters Row and move a Salter to any open space",
					timing: "Use before you take your normal Action. You may still take your normal Action after this.",
				},
				{
					title: "Crossing Supervisor",
					power: "Place a Player token on any Cross Tiles Row and add or remove a Cross Tile",
					timing: "Use before you take your normal Action. You may still take your normal Action after this.",
				},
				{
					title: "Nut Dispenser Overseer",
					power: "Place a Player token on the Nut Dispensers Row and move Nut Dispensers to open spaces (2)",
					timing: "Use before you take your normal Action. You may still take your normal Action after this.",
				},
				{
					title: "Head of Orders",
					power: "Pick one Order type (Single, Double, Triple). Search that deck and select any one Order",
					timing: "Use when you would Select a new Order.",
				},
				{
					title: "Squirrel Whisperer",
					power: "Move one Squirrel to any open space",
					timing: "Use immediately after the Squirrels move.",
				},
				{
					title: "Head of Scheduling",
					power: "Place a Player token on the Orders Row and move any of your Orders to any open space",
					timing: "Use before you take your normal Action. You may still take your normal Action after this.",
				},
				{
					title: "VP of Projections",
					power: "Search the Event Deck for any 3 Events. Replace 3 non-Weekend Events with the Events you Selected",
					timing: "Use at the start of a Day.",
				},
				{
					title: "CEO's Nephew",
					power: "You may do an Action on any row where you could normally do an Action, ignoring any Player token that's already on that Row",
					timing: "Use when you would normally take an Action. This is your Action for the Day.",
				},
				{
					title: "Sneaky Weasel",
					power: "You may take switch Player Tokens on any two placed Orders, as long as one of them is Owned by you",
					timing: "Use when you would normally take an Action. This is your Action for the Day.",
				},
				{
					title: "Janitor",
					power: "When a nut lands on one of your Orders and does not match any Slots, collect the corresponding Nut Token.  You may place it on any other Order (yours or someone else's) if it matches.",
					timing: "Use when the factory is running and a non-matching Nut lands on your Order.",
				},
				{
					title: "Sloppy Joe",
					power: "Place a Nut on your Order, ignoring any rules for Matching.",
					timing: "Use when the factory is running and a non-matching Nut lands on your Order.",
				},
			]

			var numPowerCards = Object.keys(powerCardDescs).length,
			function addPowerCard(parent, index) {
				var cardDesc = powerCardDescs[index]

				var node = cards.addDiv(parent, ["power"], "power.".concat(index.toString()))
				gameUtils.addDiv(node, ["title"], "title", cardDesc.title)
				gameUtils.addDiv(node, ["power"], "power", cardDesc.power)
				gameUtils.addDiv(node, ["timing"], "timing", cardDesc.timing)

				return node
			}

			cards.addCards("Power", "#449966", cards.numPowerCards, cards.addPowerCard)
		});
    </script>
</body>

</html>